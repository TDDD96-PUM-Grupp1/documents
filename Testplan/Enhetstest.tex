\documentclass[10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[margin=2cm]{geometry}
\usepackage[swedish]{babel}
\usepackage{hyperref}
\usepackage{color}
\usepackage{scrextend}
\usepackage[backend=bibtex,sorting=none,style=numeric,natbib=true]{biblatex}
\usepackage{multirow}
\selectlanguage{swedish}
\input{../projectdefinitions.tex}

\title{Enhetstestplan\\
    \large Projektgrupp 1}
\author{
    Joel Almqvist\\
    \texttt{joeal360@student.liu.se}
    \and
    Björn Detterfelt\\
    \texttt{bjode786@student.liu.se}
    \and
    Tim Håkansson\\
    \texttt{timha404@student.liu.se}
    \and
    David Kjellström\\
    \texttt{davkj168@student.liu.se}
    \and
    Axel Löjdquist\\
    \texttt{axelo225@student.liu.se}
    \and
    Joel Oskarsson\\
    \texttt{joeos014@student.liu.se}
    \and
    Lieth Wahid\\
    \texttt{liewa893@student.liu.se}
    \and
    Alexander Wilkens\\
    \texttt{alewi684@student.liu.se}
}

\date{\today \\ Version 2.0}

\begin{document}
\pagenumbering{gobble}
\maketitle
\pagebreak
	\section*{Revisionshistorik}

	
	\begin{center}
 	   \begin{tabular}{| l | l | p{12cm} |  }
 	       \hline
 	       \textbf{Version} & \textbf{Datum} & \textbf{Förändring och kommentar} \\
 	       \hline
 	       \centering 1.0 & 2018-02-12 & Första utkast\\
		\hline
 	       \centering 2.0 & 2018-03-05 & Iteration 2\\
 	       \hline
 	   \end{tabular}
	\end{center}
\pagebreak
\tableofcontents
\pagebreak

\pagenumbering{arabic}
\section{Inledning}
	Det här dokumentet går igenom hur Enhetstestningen kommer ske.


  \input{definitioner}
	

	
\section{Testföremål}
	Varje enhet som skapas kommer mer eller mindre genomgå enhetstest. Beroende på dess storlek kan de testas olika. T.ex. en liten service som skrivs på backend kan testas manuellt medan för större enheter t.ex. Kontrollerdelen, kan behöva automatiska tester.
	\\
	Nedan visas de krav från kravspecifikationen som behöver testas speciellt för att få en godkänd produkt.
	\\
	\begin{tabular}{| p{1.5cm} | p{6cm} | p{8cm}|}
	
  \hline
    \multicolumn{2}{|c|}{Krav}&{Test}\\
    \hline
    
		Krav 1&En mobil eller surfplatta ska användas som spelkontroll för spelet.&Testning av Kontroll-applikationen med mobil enhet.\\
		\hline
		Krav 4& Flera instanser av spelet ska kunna köras samtidigt. & Testa att skapa flera instanser av backend.\\
		\hline
		Krav 5& En unik slumpmässig identifikationskod ska genereras för en spelinstans. &Testa att kod skapas som fungerar för hotjoin.\\
		\hline
		Krav 6& Spelet ska stödja flera gamemodes. &Testa att flera olika spelvarianter implementerats.\\
		\hline
		Krav 8& Kontrollapplikationen ska ha ett grafiskt gränssnitt. &Visuellt kontrollera att Kontrollapplikationen ser bra ut.\\
		\hline
		Krav 9& Spelaren ska kunna sätta ett användarnamn. &Ange ett användarnamn och verifiera att namnet används i spelsessionen.\\
		\hline
		Krav 10& Om en spelare inte anger ett användarnamn, ska ett användarnamn ges till spelaren. &Testa att inte ange användarnamn vid start av spel, och få ett slumpat istället. \\
		\hline
		Krav 11& Kontrollapplikationen ska köras på en enhet som har minst version 64 av Google Chrome. &Testa spelet i Google Chrome version 64 och senare.\\
		\hline
		Krav 13& Kontrollapplikationen ska ha en sökruta, för att kunna söka bland de olika spelinstanserna. &Testa sökrutan utförligt och verifiera resultat. \\
		\hline
		Krav 15& Kontrollapplikationen ska kunna kalibrera en accelerometer. &Verifiera att kalibreringen av accelerometern fungerar korrekt.\\
		\hline
		Krav 16& Kontrollapplikationen ska stödja alternativa styrningsmetoder i de fall sensorer saknas. &Testa att de knappar som ersätter accelerometer ger likvärdig upplevelse som accelerometer.\\
		\hline
		Krav 17& Kontrollapplikationen ska stödja styrning med tangentbord och mus. &Testa att tangentbord och mus har samma funktionalitet som en mobil enhet.\\
		\hline
		Krav 18& UI-applikationen ska stödja minst fem spelare samtidigt. &Ansluta minst fem kontroller till en session samtidigt utan märkvärd prestandaförlust.\\
		\hline
		Krav 19& UI-applikationen ska ha ett grafiskt gränssnitt. &Visuellt kontrollera att UI-applikationen ser bra ut.\\
		\hline
		Krav 20& UI-applikationen ska kunna köras på en enhet som har minst version 64 av Google Chrome. &Testa spelet i Google Chrome version 64 och senare. \\
		\hline
		Krav 22& UI-applikationen ska visa en unik kod för sin spelinstans. &Visuellt verifiera att en unik kod visas i varje spelinstans.\\
		\hline
		Krav 23& UI-applikationen ska arkitekturellt ha stöd för godtyckligt antal spelare. Hårdvara, prestanda och plats på skärmen begränsar. &Verifiera att kod inte har begränsningar gällande antalet spelare. \\
		\hline


   
  \end{tabular}
	\\ \\
	Nedanför kommer de tester som inte är definierade i kravspecifikationen \cite{bib-kravspec} men som ska göras ändå för att verifiera ett stabilt system.
	
	\begin{tabular}{| p{2.1cm}| p{2cm} | p{8cm}|}
	
      \hline
      NR&Enhet&Test\\
      \hline
    
		Enhetstest 1&UI&Funktionalitet för startknapp.\\
		\hline
		Enhetstest 2&UI&Funktionalitet för spelalternativknapp.\\
		\hline
		Enhetstest 3&UI&Max antal spelare.\\
		\hline
		Enhetstest 4&UI&Spelalternativ, stänga av vissa speltyper.\\
		\hline
		Enhetstest 5&UI&Vem som får bestämma speltyper.\\
		\hline
		Enhetstest 6&UI&välja unik identifikationskod för instansen.\\
		\hline
		Enhetstest 7&UI&Tillbakaknapp för spelalternativmeny.\\
		\hline
		Enhetstest 8&UI&Startknapp för spelalternativmeny.\\
		\hline
		Enhetstest 8&UI&Varning om annan webbläsare än Chrome version 64 används.\\
		\hline
		Enhetstest 9&Kontroll&Splashscreen för kontroller vid första anslutning.\\
		\hline
		Enhetstest 10&Kontroll&Hotjoinknapp med tillhörande sökruta.\\
		\hline
		Enhetstest 11&Kontroll&Hotjoin ska fungera med listan av olika instanser.\\
		\hline
		Enhetstest 12&Kontroll&Knapp för funktionalitet i spelet.\\
		\hline
		Enhetstest 13&Kontroll&Ändra bakgrundsfärg.\\
		\hline
		Enhetstest 14&Kontroll&Redigerbar text i spelet.\\
		\hline
		Enhetstest 15&Kontroll&Highscorelista eller scoreboard.\\
		\hline
		Enhetstest 16&Backend&Hantera flera instanser.\\
		\hline



   
  \end{tabular}

\section{Tillvägagångssätt}
	Hurvida en enhets testning ska gå till är på fall till fall basis, där testaren ansvarig över enheten själv bestämmer om den är stor nog att meritera automatisk testning.
	Om så är fallet, bör Jest, Javascript testframework, användas. Test som automatiseras skall övervägas att läggas in som regressionstester i Travis för att funktionalitet inte går förlorad i utvecklingsprocessen. \\
	\\
	För att ha en bra teststandard bör följande punkter has i åtanke:
	\begin {itemize}
	 \item [Genomgående] Testa alla vägar och möjliga scenarion för varje enhet och försök uppnå maximal täckning.
	 \item [Repeterbar] Ett test som lyckats en gång bör lyckas varje gång. Tester bör alltid producera samma resultet.
	 \item [Oberoende] Varje test bör endast testa en sak i taget. Flera antaganden är acceptabelt så länge de testar en funktion. Tester ska ej vara beroende av varandra, varje test ska kunna köras separat.
	 \item [Kodstandard] Tester ska skriva på så sätt att det ser professionellt ut. Bra funktionsnamn, inga dubletter, osv.
	\end {itemize}

	

\section{Föremåls godkännande/misslyckande kriterier}
	För att en enhet ska vara helt godkänd ska samtliga tester den genomgått vara godkända. Upptäcks problem av mindre magnitud som har försumbar inverkan på projektet kan det förbigås.



\section{Avbrott och fortsättningskriterier}
	Om en enhet trots flertalet revederingar och omskrivningar fortfarande misslyckas sina tester bör de avbrytas och ett möte med majoriteten utav gruppen sammankallas. 
	Gruppen ska bestämma om det testerna berör är viktiga nog så att de måste behandlas, och sedan fatta ett gemensamt beslut om hur de ska hanteras, t.ex. skriva om en enhet från grunden.


\section{Test leveranser}

Leveranser från enhetstesten kommer bestå utav automatiska tester för regressionstestning som kommer implementeras direkt och köras vid varje pushning till git. 
\\
Datum för dessa är samma som återfinnes i Master Testplan.



\section{Ansvarsområden}
	En enhets utvecklare är ansvarig över de tester som utförs på enheten för att se till att den lever upp till kraven. Vid testning av större enheter kan fler medlemmar behövas för att sammanställa de nödvändiga testerna.
	
	
	
\section{Godkännande}
	För att Testplanen ska vara avklarad behöver följande vara godkänt:
	\begin{itemize}
	 \item Varje enhet ska ha testas enligt den standard beskriven under Tillvägagångssätt.
	 \item Större enheter ska testas automatiskt genom Jest och sedan skapa regressionstester att lägga till i Travis.
	\end{itemize}
	


\section{Referenser}
	\begin{itemize}
	\item [1] Grupp 1. Kravspecifikation. Tekn. rapport. Linköpings universitet, febr. 2018.
	\item [2] Grupp 1. Projektplan. Tekn. rapport. Linköpings universitet, febr. 2018.
	\item [3] Grupp 1. Kvalitetsplan. Tekn. rapport. Linköpings universitet, febr. 2018.
	\end{itemize}
	



\end{document}

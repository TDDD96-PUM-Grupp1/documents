\section{Metod}
\label{sec:joel_a-method}

Metoden för sammanställa gruppens miljöpåverkan är tredelad. Den första delen går ut på att sammanställa en uppskattning av teamets användning av molntjänster. Den andra delen går ut på att uppskatta hur mycket elektricitet teamet använde sig av under utvecklingen. Den sista delen handlar sedan om att sammanställa information om hur mycket koldioxid som släppts ut baserat på de tidigare uppskattningarna. 

\subsection{Utvecklingsprocessens koldioxidutsläpps}
För att få en uppskattning av hur mycket elektricitet teamet använde sig så gjordes flera förenklingar och antaganden. Dessa är i sig framförallt baserad på förstahandserfarenhet av hur teamets arbetsprocess såg ut. Med hjälp av dessa antaganden och förenklingar kunde en uppskattning av hur mycket tid teamet arbetade med sina datorer fås. Denna kombinerades sedan med information om hur mycket elektricitet en av teamets datorer drog för att då få en grov uppskattning av hur mycket elektricitet teamet använt sig av. Sedan så framställdes en approximation av hur mycket utsläpp framställning av denna elektricitet generade. Detta gjordes genom att ta storskalig statistik gällande energiproduktionen i hela Sverige och jämföra den mot koldioxidutsläppen energiproduktionen generade.

\subsection{Approximera arbete utfört på molntjänster}
\label{joel_a-method-cloud-nr}
De molntjänster som undersökts i denna rapport är de två molntjänster som gruppen använt flitigast, Git kombinerat med Github och Google Drive. Dessa tjänster erbjuder en historik över hur tjänsten har använts och med hjälp av denna kan en konkret siffra på hur ofta teamet förändrat deras databas tas fram. Sedan kombinerades denna siffra med en uppskattning av hur mycket koldioxid som släppts ut per operation. Då kan en approximerad siffra för hur mycket koldioxid teamet använt sig av till följd av tjänsterna ges. 

Sammanställningen av historiken gjordes genom att mäta hur många gånger en ’’push’’ gjorts mot Githubs servrar, detta gavs med hjälp av kommandot ”git reflog show origin/master”. Detta kommando ger ut alla lyckade förändringar av grenen ’’origin/master’’. Eftersom gruppen arbetade med ’’pull-requests’’ så kunde inte master-grenen förändras lokalt utan detta kunde enbart ske genom Githubs servrar. Detta betyder alltså att varje förändring av master-grenen gjorts mot en molntjänst och genom denna metodik kan användningen av Githubs servrar approximeras. För den andra molntjänsten teamet använde, Google Drive, kunde all historik fås som en sträng. Denna historik var detaljerad och innehöll varje förändring som varje teammedlem gjort på alla filer i den gemensamma mappen. För att kunna hantera en sådan stor sträng så användes en textredigerare med funktionalitet för sökningar av reguljära uttryck. Först så söktes namnet på operationen, vilket gav den totala mängden en operation uppkommit i historiken. Sedan så söktes ett reguljärt uttryck med operationens namn samt antal personer som utfört operationen. Detta eftersom i historiken på Google Drive så skrivs det ihop ifall flera personer förändrat samma objekt, det kan se ut på följande sätt: ’’Du och 4 andra har redigerat ett objekt’’. Genom att multiplicera med antal personer som utfört en operation så kunde sedan en siffra fås för hur många gånger en operation utförts.

\subsection{Utsläpp per utfört arbete på molntjänster}
\label{joel_a-method-cloud-eq}
För att få en uppskattning av hur mycket utsläpp som genereras vid användning av molntjänsterna så har en uppskattningsmodell baserat på data ifrån Google gjorts. Grunden är baserad på ett  uttalande där de påstod att en sökning motsvarar utsläpp av 0.2 gram koldioxid~\cite{google-blog}. Denna siffra är dock en approximation och det faktiska utsläppet varierar beroende på flera faktorer. Bland annat så skriver Google själva att tid på dygnet och belastning påverkar hur effektiva servrarna är~\cite{google-warehouse}. Genom detta så påverkas naturligtvis även hur mycket utsläpp en sökning generar då mer effektiva servrar använder mindre ström och därav generar mindre utsläpp. Denna rapport undersöker dock förändringar på objekt sparade i moln, inte sökningar på Googles plattform. För en sökning så behöver ingen förändringar skrivas ner utan det räcker i teorin med enbart READ systemcalls för att hämta datan. Processen att modifiera ett objekt kräver skrivningar till själva databasen, som i nästan alla molntjänster är utspridd på flera maskiner. Utöver detta så tar en WRITE systemcall tar i sig väsentligt mer tid och arbete än en READ systemcall. Baserat på detta så antas det att en operation som modifierar ett objekt generar dubbelt så mycket utsläpp som en Google-sökning. Men innan teamet modifierar ett objekt så hämtas det ned och undersöks, vare sig objekt är en Git-gren eller ett dokument på Google Drive. För att hantera detta så läggs kostnaden av ytterligare en läsning på för alla operationer som modiferar objekt. Sammantaget blir alltså att varje operation som modifierar ett objekt antas genera utsläpp på $0.2 * 2 + 0.2 = 0.6 \text{ gram \ce{CO2} }$



\subsection{Molntjänster - DEPRICATED}
Under utvecklingsprocessen använde sig teamet av flertal olika molntjänster såsom Google drive, Github och Googles sökmotor. Det är extremt svårt att uppskatta hur mycket ström som används när man använder dessa tjänster av flera skäl. Bland annat så påverkar tid på dygnet hur effektiva Googles data centrum är\cite{google-warehouse}. Ju effektivare datacenter desto mindre ström används av en enskild användare och desto mindre miljöutsläpp. Enligt Google själva så släpper en sökning ut ungefär 0.2 gram koldioxid\cite{google-blog}. Hur Googles arkitektur kring deras sökmotor ser ut är oklart, men i teorin så tar de emot en begäran, söker igenom deras databas och skickar ett resultat till användaren. Ingen data behöver förändras så en sökning borde klara sig utan någon WRITE begäran. I Google drive historiken finns åtta typer av operationer: \textit{redigera, kopiera, kommentera, byta namn, ladda upp, skapa, flytta, ta bort}. Alla dessa operationer förändrar eller skapar en datastruktur och kräver mer arbete än en sökning som enbart läser. Uppskattningen denna rapport utgår ifrån är att dessa operationer kräver dubbelt så mycket arbete som en sökning. Men sen så tillkommer också det faktumet att innan ett objekt modifieras så har det alltid hämtats ut först. Vilket enligt tidigare resonemang släpper ut 0.2 gram \ce{CO2}. Så totalt räknar denna rapport med att alla de uppräknade operationerna på Google drive släpper ut 0.6 gram \ce{CO2}. Github har tillskillnad ifrån Google inte sagt hur mycket koldioxid de släpper ut så vi antar att de ligger på samm nivå som Google med 0.6 gram \ce{CO2} per push operation. Förutom dessa molntjänster finns långt fler hemsidor som utvecklarna använts sig av som inte tas med i denna analys. Sidor såsom Stackoverflow, Pixis API dokumentation och Mozillas Javascript dokumentation. Även delar av Github som antalet pull-begäran räknas inte på, allt detta av den simpla anledningen att det inte finns någon historik på det.